<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrowserMark</title>
</head>
<body>

<!-- Help Button -->
<button id="help-btn" class="help-btn" title="Help">?</button>

<div class="container">
    <!-- Input Panel -->
    <div class="panel">
        <div class="header">BrowserMark Input</div>
        <textarea id="markdown-input" placeholder="Type your markdown here..."></textarea>
    </div>

    <!-- Preview Panel -->
    <div class="panel">
        <div class="header">
            Browsermark Preview
            <div class="button-group">
                <button id="export-btn">Export PDF</button>
                <button id="export-docx-btn">Export DOCX (BETA)</button>
                <button id="export-mhtml-btn">Export MHTML</button>
                <button id="print-btn">Print PDF</button>
            </div>
        </div>
        <div id="options-toggle" class="options-toggle">Hide Options</div>
        <!-- Options Panel -->
        <div id="options-panel" class="options-panel">
            <div class="option-group">
                <label for="header-input">Header Text:</label>
                <input type="text" id="header-input" placeholder="Enter header text">
            </div>
            <div class="option-group">
                <label for="footer-input">Footer Text:</label>
                <input type="text" id="footer-input" placeholder="Enter footer text">
            </div>
            <div class="option-group">
                <label>
                    <input type="checkbox" id="page-numbers-checkbox"> Include Page Numbers
                </label>
            </div>
            <div class="option-group">
                <label>
                    <input type="checkbox" id="link-urls-checkbox"> Show Link URLs (for Print PDF)
                </label>
            </div>
            <div class="option-group">
                <label>
                    <input type="checkbox" id="word-headers-checkbox"> Use Word-style header colors
                </label>
            </div>
            <div class="option-group">
                <label for="font-select">Font Family:</label>
                <select id="font-select">
                    <option value="default">Default</option>
                    <option value="calibri">Calibri</option>
                    <option value="times">Times New Roman</option>
                    <option value="arial">Arial</option>
                </select>
            </div>
            <div class="option-group">
                <label for="filename-input">Filename:</label>
                <input type="text" id="filename-input" placeholder="browsermark-document">
            </div>
            <div class="option-group">
                <label>
                    <input type="checkbox" id="auto-filename-checkbox"> Auto-set filename from first header
                </label>
            </div>
        </div>
        <!-- Wrapper for UI layout -->
        <div id="preview-container">
            <!-- Actual content target for PDF generation -->
            <div id="preview-content"></div>
        </div>
    </div>
</div>

<!-- Help Modal -->
<div id="help-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3>BrowserMark Help</h3>
            <button class="modal-close" id="help-close">&times;</button>
        </div>
        <div class="modal-body">
            <h4>What is BrowserMark?</h4>
            <p>BrowserMark is a simple, browser-based markdown to document converter that generates high-quality PDF, DOCX, and MHTML files directly in your browser.</p>

            <h4>Features</h4>
            <ul>
                <li><strong>Live Preview</strong>: See your markdown rendered in real-time as you type</li>
                <li><strong>Multiple Export Formats</strong>:
                    <ul>
                        <li>PDF (with customizable headers, footers, and page numbers)</li>
                        <li>DOCX (Microsoft Word compatible)</li>
                        <li>MHTML (single-file web archive)</li>
                    </ul>
                </li>
                <li><strong>Custom Options</strong>:
                    <ul>
                        <li>Header and footer text</li>
                        <li>Page numbering</li>
                        <li>Link URL display (for print PDFs)</li>
                        <li>Word-style header colors</li>
                        <li>Font family selection</li>
                    </ul>
                </li>
                <li><strong>Custom Filenames</strong>: Set custom filenames for your exports</li>
                <li><strong>Auto-Filename from Headers</strong>: Automatically use the first heading as the filename</li>
            </ul>

            <h4>Usage</h4>
            <ol>
                <li>Type or paste your markdown in the input panel</li>
                <li>Use the options panel to customize headers, footers, and other settings</li>
                <li>Set a custom filename if desired (or enable auto-filename from first header)</li>
                <li>Click one of the export buttons to download your document</li>
            </ol>

            <h4>Basic Markdown Example</h4>
            <pre><code># My Document Title

This is a paragraph with **bold** and *italic* text.

## Features

- Bullet points
- [Links](https://example.com)
- `Code blocks`

> Blockquotes work too</code></pre>

            <h4>Export Options</h4>
            <ul>
                <li><strong>Export PDF</strong>: Generates a PDF with your custom headers, footers, and page numbers</li>
                <li><strong>Export DOCX (BETA)</strong>: Creates a Microsoft Word-compatible document</li>
                <li><strong>Export MHTML</strong>: Single-file web archive format</li>
                <li><strong>Print PDF</strong>: Opens browser print dialog for text-searchable PDFs</li>
            </ul>

            <p><strong>Source Code:</strong> <a href="https://github.com/zarguell/browsermark" target="_blank">https://github.com/zarguell/browsermark</a></p>
        </div>
    </div>
</div>

<script type="module" src="./src/app.js"></script>

</body>
</html>
